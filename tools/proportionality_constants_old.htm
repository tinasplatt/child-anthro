<!DOCTYPE html>
<html>
  <head>
  <title>Proportionality Constants Calculator: Open Design Lab</title>
   <meta name="viewport" content="width=device-width, initial-scale=1">   

      <link rel="apple-touch-icon" href="./apple-touch-icon.png"/>
	<meta charset="utf-8">


<!--
<link rel="stylesheet" href="./jquery/jquery.mobile-1.3.1.min.css" />
<script src="./jquery/jquery-1.9.1.min.js"></script>
<script src="./jquery/jquery.mobile-1.3.1.min.js"></script>
-->
<link rel="stylesheet" href="./css/themes/openlab_tools_v1.css" />
  <link rel="stylesheet" href="./css/themes/jquery.mobile.icons.min.css" />
  <link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.2/jquery.mobile.structure-1.4.2.min.css" /> 
  <script src="http://code.jquery.com/jquery-1.10.2.min.js"></script> 
  <script src="http://code.jquery.com/mobile/1.4.2/jquery.mobile-1.4.2.min.js"></script>

<style type="text/css">
a.bodySegmentLink:link, a.bodySegmentLink:visited, a.bodySegmentLink:hover, a.bodySegmentLink:active { text-decoration: underline; font-weight:bold; color: #000 };
body {
       background: transparent;

}
.ui-page {
    background: transparent;
    background: url('./images/logo_watermark.png');
    background-repeat: no-repeat;
	background-position: bottom left;
    
}
.ui-content{
    background: transparent;
}
</style>
 
  
<script type="text/javascript" src="build_data.js">
/* This script loads the data. Run build_data.php if the SQLite database is updated! */
</script>

<script type="text/javascript" src="./stats.js"></script>

<script type="text/javascript">



/* ********************************
BEGIN CODE FOR KVIEW
******************************** */


function updateK() {
	

	stat_val = $('#stature_value').val();
	shoulder_ht_val = 0.818*stat_val;
	elbow_ht_val = 0.630*stat_val;
	wrist_ht_val = 0.485*stat_val;
	fingertip_ht_val = 0.377*stat_val;
	ankle_ht_val = 0.039*stat_val;
	popliteal_ht_val = 0.285*stat_val;
	hip_ht_val = 0.530*stat_val;
	hip_breadth_val = 0.191*stat_val;
	shoulder_breadth_val = 0.259*stat_val;
	upper_arm_val = 0.186*stat_val;
	lower_arm_val = 0.146*stat_val;
	hand_val = 0.108*stat_val;
	
	if ($("#unit_switch").val()=="mm"){ precisionVal = 0; 
		}else{ precisionVal = 1; }
	
	$('#stature').html('<a href="#popupStature" data-rel="popup" class="bodySegmentLink">'+stat_val+'</a>');
	$('#shoulder_ht').html('<a href="#popupShoulderHt" data-rel="popup" class="bodySegmentLink">'+shoulder_ht_val.toFixed(precisionVal)+'</a>');
	$('#elbow_ht').html('<a href="#popupElbow" data-rel="popup" class="bodySegmentLink">'+elbow_ht_val.toFixed(precisionVal)+'</a>');
	$('#wrist_ht').html('<a href="#popupWrist" data-rel="popup" class="bodySegmentLink">'+wrist_ht_val.toFixed(precisionVal)+'</a>');
	$('#fingertip_ht').html('<a href="#popupFingertip" data-rel="popup" class="bodySegmentLink">'+fingertip_ht_val.toFixed(precisionVal)+'</a>');
	$('#ankle_ht').html('<a href="#popupAnkle" data-rel="popup" class="bodySegmentLink">'+ankle_ht_val.toFixed(precisionVal)+'</a>');
	$('#popliteal_ht').html('<a href="#popupPopliteal" data-rel="popup" class="bodySegmentLink">'+popliteal_ht_val.toFixed(precisionVal)+'</a>');
	$('#hip_ht').html('<a href="#popupHipHt" data-rel="popup" class="bodySegmentLink">'+hip_ht_val.toFixed(precisionVal)+'</a>');
	$('#hip_breadth').html('<a href="#popupHipBreadth" data-rel="popup" class="bodySegmentLink">'+hip_breadth_val.toFixed(precisionVal)+'</a>');
	$('#shoulder_breadth').html('<a href="#popupShoulderBreadth" data-rel="popup" class="bodySegmentLink">'+shoulder_breadth_val.toFixed(precisionVal)+'</a>');
	$('#upper_arm').html('<a href="#popupUpperArm" data-rel="popup" class="bodySegmentLink">'+upper_arm_val.toFixed(precisionVal)+'</a>');
	$('#lower_arm').html('<a href="#popupLowerArm" data-rel="popup" class="bodySegmentLink">'+lower_arm_val.toFixed(precisionVal)+'</a>');
	$('#hand').html('<a href="#popupHand" data-rel="popup" class="bodySegmentLink">'+hand_val.toFixed(precisionVal)+'</a>');

}

$(document).on("change", "#unit_switch", function(event) {
										  
		if ($("#unit_switch").val()=="mm"){
							
				$("#stature_value").val(($("#stature_value").val()*25.4).toFixed(0));
				
				updateK();

				
		}else{
								
				$("#stature_value").val(($("#stature_value").val()/25.4).toFixed(1));
				
				updateK();


		}
});
								  


$(document).on('change','#stature_value',function(event) {


updateK();


});

 ansur_m = new Array(1649,1671,1688,1710,1756,1801,1828,1843,1868);
 ansur_m_in = new Array();
 		for (i=0;i<ansur_m.length;i++){
		ansur_m_in[i] = ansur_m[i]/25.4;
		}
 ansur_f = new Array(1529,1551,1565,1585,1628,1672,1695,1712,1737);
 ansur_f_in = new Array();
  		for (i=0;i<ansur_f.length;i++){
		ansur_f_in[i] = ansur_f[i]/25.4;
		}
 nhanes_m = new Array(1636,1666,1684,1713,1763,1815,1844,1860,1887);
 nhanes_m_in = new Array();
  		for (i=0;i<nhanes_m.length;i++){
		nhanes_m_in[i] = nhanes_m[i]/25.4;
		}
 nhanes_f = new Array(1507,1533,1549,1577,1622,1667,1691,1708,1731);
 nhanes_f_in = new Array();
  		for (i=0;i<nhanes_f.length;i++){
		nhanes_f_in[i] = nhanes_f[i]/25.4;
		}



$(document).on("change",'#select-database,#select-gender,#select-percentile,#predefined_switch',function(event){

if($('#unit_switch').val()=='mm') {
	if($('#select-database').val()=='ansur'){
		if($('#select-gender').val()=='male'){
				predefined_database = ansur_m;
			}else{
				predefined_database = ansur_f;
			}
	}else{
		if($('#select-gender').val()=='male'){
				predefined_database = nhanes_m;
			}else{
				predefined_database = nhanes_f;
			}
	}
} else {
	if($('#select-database').val()=='ansur'){
		if($('#select-gender').val()=='male'){
				predefined_database = ansur_m_in;
			}else{
				predefined_database = ansur_f_in;
			}
	}else{
		if($('#select-gender').val()=='male'){
				predefined_database = nhanes_m_in;
			}else{
				predefined_database = nhanes_f_in;
			}
	}
}
	
	if ($("#unit_switch").val()=="mm"){ precisionVal = 0; 
		}else{ precisionVal = 1; }
	
	percentile_index = $('#select-percentile').val();
	$('#stature_value').val((predefined_database[percentile_index]).toFixed(precisionVal));
	
	updateK();
	
});

$(document).on("change",'#predefined_switch',function(event){
											  
	if ($('#predefined_container').css('display')=='none'){
		$('#predefined_container').css('display','block');
		} else {
		$('#predefined_container').css('display','none');
	}


 });


/* ********************************
END CODE FOR KVIEW
******************************** */


</script>




        
        
  </head>
  <body onLoad="" style="margin:0; padding: 0; width: 100%;">
      
      
     <div data-role="page" id="kView" data-theme="b"> 
      
<div data-role="popup" id="kOptions" style="width:300px; " class="ui-corner-all" > 

    <a href="#" data-rel="back" data-role="button" data-icon="delete" data-iconpos="notext" class="ui-btn-right">Close</a>
     <div data-role="content">
     <div data-role="fieldcontain">
		<label for="predefined_switch" style="width:150px">Predefined Statures</label>
		<select name="predefined_switch" id="predefined_switch" data-role="slider" data-mini="true">
			<option value="off">Off</option>
			<option value="on">On</option>
			</select>
    
      		<p style="font-size:12px"><i>When enabled, 'Predefined Statures' provides additional options for specifying stature based on a specified percentile for a specified gender within either the NHANES or ANSUR databases. NHANES data are from the most recently released surveys (2003-2006) of U.S. adult civilians. ANSUR is a survey of U.S. Army personnel in 1988.</i></p>


		</div>
	</div>
</div>
          

          <div data-role="header" > 
              <a href="#kOptions" data-icon="gear" data-rel="popup" >Options</a>

              <h1>Proportionality Constants Calculator</h1>
              
              <a href="#kBackground" data-icon="info" data-rel="dialog">Background</a>



          </div>
          <div data-role="content" style="text-align:center;">
          


          <div style="text-align:left; width:315px; margin: auto; ">
          
          Stature<br style="clear:both;">
          
          <div id="predefined_container" style="display: none; width: 100%; float:left;">
          <fieldset data-role="controlgroup" data-type="horizontal">
          <label for="select-database">Database</label>
          <select name="select-database" id="select-database">
          <option value="ansur">ANSUR</option>
          <option value="nhanes">NHANES</option>
          </select>
          
          <label for="select-gender">Gender</label>
          <select name="select-gender" id="select-gender">
          <option value="male">M</option>
          <option value="female">F</option>
          </select>
          
          <label for="select-percentile">Percentile</label>
          <select name="select-percentile" id="select-percentile">
          <option value="0">5th</option>
          <option value="1">10th</option>
          <option value="2">15th</option>
          <option value="3">25th</option>
          <option value="4">50th</option>
          <option value="5">75th</option>
          <option value="6">85th</option>
          <option value="7">90th</option>
          <option value="8">95th</option>
          </select>
          
          </fieldset>
          </div>
          
          <div style="width: 145px; float: left; margin-top:4px;">
          <label for="stature_value" class="ui-hidden-accessible"></label>
          <input type="text" id="stature_value" value="" style="display: inline;"/>
          </div>
          
          <div style="width: 145px; float: left; margin-left:10px; ">
              <div data-role="fieldcontain">
                <label for="unit_switch" class="ui-hidden-accessible"></label>
                <select name="unit_switch" id="unit_switch" data-role="slider" data-mini="true">
                    <option value="mm">mm</option>
                    <option value="in">in</option>
                  </select>
          	  </div>
          </div>
          
          <br style="clear:both;">
              
          </div>
          
          <div style="text-align:left; margin: auto ; width:300px; min-height:400px; background-image: url('./images/drillis_blank.png'); background-repeat:no-repeat;">
          <div style="position:relative; height:0; overflow: visible; left: -16px; top: 138px; " id="stature"></div>
          <div style="position:relative; height:0; overflow: visible; left: 5px; top: 183px; " id="shoulder_ht"></div>
          <div style="position:relative; height:0; overflow: visible; left: 28px; top: 230px; " id="elbow_ht"></div>
          <div style="position:relative; height:0; overflow: visible; left: 55px; top: 268px; " id="wrist_ht"></div>
          <div style="position:relative; height:0; overflow: visible; left: 76px; top: 307px; " id="fingertip_ht"></div>
          <div style="position:relative; height:0; overflow: visible; left: 160px; top: 375px; " id="ankle_ht"></div>
          <div style="position:relative; height:0; overflow: visible; left: 140px; top: 75px; " id="shoulder_breadth"></div>
          <div style="position:relative; height:0; overflow: visible; left: 140px; top: 195px; " id="hip_breadth"></div>
          <div style="position:relative; height:0; overflow: visible; left: 200px; top: 325px; " id="popliteal_ht"></div>
          <div style="position:relative; height:0; overflow: visible; left: 220px; top: 277px; " id="hip_ht"></div>
          <div style="position:relative; height:0; overflow: visible; left: 220px; top: 85px; " id="upper_arm"></div>
          <div style="position:relative; height:0; overflow: visible; left: 250px; top: 145px; " id="lower_arm"></div>
          <div style="position:relative; height:0; overflow: visible; left: 272px; top: 195px; " id="hand"></div>

          
          </div>
          </div>
          
          <div data-role="popup" id="popupStature" style="max-width:400px"><a href="#" data-rel="back" data-role="button" data-icon="delete" data-iconpos="notext" class="ui-btn-right">Close</a><h3>Stature</h3><p>The vertical distance from the floor to the top of the head.</p></div>
            <div data-role="popup" id="popupShoulderHt"  style="max-width:400px"><a href="#" data-rel="back" data-role="button" data-icon="delete" data-iconpos="notext" class="ui-btn-right">Close</a><h3>Shoulder Height</h3><p>Average ratio of shoulder height to stature is 0.818. R<sup>2</sup>=0.93 and RMSE=16.34.</p><p> Measured from ground to the lateral border of the acromial process (notch in bone on top edge of shoulder).</p></div>
		<div data-role="popup" id="popupElbow" style="max-width:400px"><a href="#" data-rel="back" data-role="button" data-icon="delete" data-iconpos="notext" class="ui-btn-right">Close</a><h3>Elbow Height</h3><p>Average ratio of elbow height to stature is 0.630. R<sup>2</sup>=0.20 and RMSE=18.07.</p><p> Measured from ground to radiale (highest point on the outside edge of the radius).</p></div>
        <div data-role="popup" id="popupWrist"  style="max-width:400px"><a href="#" data-rel="back" data-role="button" data-icon="delete" data-iconpos="notext" class="ui-btn-right">Close</a><h3>Wrist Height</h3><p>Average ratio of wrist height to stature is 0.485. R<sup>2</sup>=0.73 and RMSE=21.47.</p><p> Measured from ground to the stylion (the lowest point on the bottom of the radius).</p></div>
        <div data-role="popup" id="popupFingertip" style="max-width:400px"><a href="#" data-rel="back" data-role="button" data-icon="delete" data-iconpos="notext" class="ui-btn-right">Close</a><h3>Fingertip Height</h3><p>Average ratio of fingertip height to stature is 0.377. R<sup>2</sup>=0.59 and RMSE=24.32.</p><p> Measured from ground to the tip of the middle finger. Fingers are extended with hand pointing at ground.</p></div>
        <div data-role="popup" id="popupAnkle" style="max-width:400px"><a href="#" data-rel="back" data-role="button" data-icon="delete" data-iconpos="notext" class="ui-btn-right">Close</a><h3>Ankle Height</h3><p>Average ratio of ankle height to stature is 0.0.039. R<sup>2</sup>=0.21 and RMSE=4.87.</p><p> Measured from ground to the lateral malleolus (outside of ankle bone).</p></div>
        <div data-role="popup" id="popupShoulderBreadth"  style="max-width:400px"><a href="#" data-rel="back" data-role="button" data-icon="delete" data-iconpos="notext" class="ui-btn-right">Close</a><h3>Shoulder Breadth</h3><p>Average ratio of shoulder breadth to stature is 0.259. R<sup>2</sup>=0.15 and RMSE=23.89.</p><p> Measured at the outside of the shoulders.</p></div>
        <div data-role="popup" id="popupHipBreadth" style="max-width:400px"><a href="#" data-rel="back" data-role="button" data-icon="delete" data-iconpos="notext" class="ui-btn-right">Close</a><h3>Hip Breadth</h3><p>Average ratio of hip breadth to stature is 0.191. R<sup>2</sup>=0.20 and RMSE=18.07.</p><p> Measured at the height of maximum buttock protuberance.</p></div>
        <div data-role="popup" id="popupPopliteal" style="max-width:400px"><a href="#" data-rel="back" data-role="button" data-icon="delete" data-iconpos="notext" class="ui-btn-right">Close</a><h3>Popliteal Height</h3><p>Average ratio of popliteal height to stature is 0.285. R<sup>2</sup>=0.76 and RMSE=12.97.</p><p> Measured from ground to the lateral femoral epicondyle (knee pivot point).</p></div>
        <div data-role="popup" id="popupHipHt" style="max-width:400px"><a href="#" data-rel="back" data-role="button" data-icon="delete" data-iconpos="notext" class="ui-btn-right">Close</a><h3>Hip Height (Leg Length)</h3><p>Average ratio of leg length to stature is 0.530. R<sup>2</sup>=0.75 and RMSE=24.01.</p><p> Measured from ground to the top of the trochanter (bony part at the outside, top of the femur).</p></div>
        <div data-role="popup" id="popupUpperArm" style="max-width:400px"><a href="#" data-rel="back" data-role="button" data-icon="delete" data-iconpos="notext" class="ui-btn-right">Close</a><h3>Upper Arm Length</h3><p>Average ratio of upper arm length to stature is 0.186. R<sup>2</sup>=0.64 and RMSE=10.28.</p><p> Measured from the acromial process (notch in bone on top edge of shoulder) to radiale (highest point on the outside edge of the radius).</p></div>
        <div data-role="popup" id="popupLowerArm" style="max-width:400px"><a href="#" data-rel="back" data-role="button" data-icon="delete" data-iconpos="notext" class="ui-btn-right">Close</a><h3>Lower Arm Length</h3><p>Average ratio of lower arm length to stature is 0.146. R<sup>2</sup>=0.48 and RMSE=11.25.</p><p> Measured from the radiale (highest point on the outside edge of radius) to the stylion (the lowest point on the bottom of the radius).</p></div>
        <div data-role="popup" id="popupHand" style="max-width:400px"><a href="#" data-rel="back" data-role="button" data-icon="delete" data-iconpos="notext" class="ui-btn-right">Close</a><h3>Hand Length</h3><p>Average ratio of hand length to stature is 0.108. R<sup>2</sup>=0.42 and RMSE=7.44.</p><p> Measured from the stylion (the lowest point on the bottom of the radius) to the tip of the third finger with the hand flat and fingers together.</p></div>
                   
          
          
          </div>

      
      <div data-role="dialog" id="kBackground" data-theme="b"> 
     
     
         <div data-role="header" >
             <h1>Background</h1>
        </div>
          <div data-role="content">

<p>Proportionality constants describe the average ratio of a given body segment length to stature. The ratios used here are from Drillis and Contini (1966) and are among the most-used. Their use can be problematic, however, since segment ratios of any individual are not likely to be "average". In other words, the ratios for a given segment vary widely across individuals within a given population. Also, while a measure like "shoulder height" correlates well with stature (R<sup>2</sup> = 0.93), other measures, such as "shoulder breadth" (R<sup>2</sup> = 0.15) do not. As a result, this is a helpful tool for exploring relationships, but should not be used for real design. </p>

<p>The R<sup>2</sup> and RMSE are reported for each segment by tapping on the indicated value. These values come from a regression on the ANSUR data.</p>

<p>For a more detailed discussion of the strengths and weaknesses of proportionality constants, see Fromuth and Parkinson (2008), "Predicting 5th and 95th percentile anthropometric segment lengths from population stature" by visiting dfhv.org.</p>

          </div>
          <div data-role="footer"><h1></h1>
              </div>
    </div>
      
  </body>
</html>
